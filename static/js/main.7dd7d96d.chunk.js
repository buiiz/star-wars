(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{22:function(e,t,n){e.exports={container:"Header_container__17JOw"}},36:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(13),a=n.n(s),i=n(12),o=(n(36),n(4)),l=n(15),u=n.n(l),j=n(5),d=n.n(j),b=n(10),h=n(16),f="https://swapi.dev/api/",O=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",e.next=3,fetch(f+t,{mode:{method:"GET",headers:new Headers({"content-type":"application/json"}),mode:"no-cors"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("films");case 2:return t=e.sent,e.abrupt("return",t.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=Object(h.b)({name:"films",initialState:{films:[],loading:!1,error:null},reducers:{getFilmsStart:function(e){e.loading=!0,e.error=null},getFilmsSuccess:function(e,t){e.films=t.payload,e.loading=!1,e.error=null},getFilmsFailure:function(e,t){e.loading=!0,e.error=t.payload.stack}}}),m=x.actions,_=m.getFilmsStart,v=m.getFilmsSuccess,w=m.getFilmsFailure,g=Object(h.a)({reducer:x.reducer,middleware:Object(h.c)({serializableCheck:!1})}),S=n(11),C=n.n(S),y=n(6),N=n.n(y),k=n(1),F=function(e){var t=e.search,n=e.setSearch,r=e.isSorted,c=e.setIsSorted,s=Object(k.jsxs)("form",{className:N.a.controls,children:[Object(k.jsx)("input",{className:N.a.search,type:"search",value:t,onChange:function(e){return n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"Search..."}),Object(k.jsxs)("div",{className:N.a.sort,children:[Object(k.jsx)("span",{children:"Sort by name?"}),Object(k.jsxs)("label",{className:N.a.switch,children:[Object(k.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){return c(e.target.checked)}}),Object(k.jsx)("span",{className:C()(N.a.slider,N.a.round)})]})]})]});return Object(k.jsx)("div",{className:N.a.container,children:s})},P=n(24),L=n(23),E=n(7),M=n.n(E),D=function(e){var t=e.active,n=e.setActive,c=e.film,s=Object(r.useState)(!0),a=Object(o.a)(s,2),i=a[0],l=a[1],j=Object(r.useState)([]),d=Object(o.a)(j,2),b=d[0],h=(d[1],Object(r.useState)([])),f=Object(o.a)(h,2),O=f[0],p=f[1];return Object(r.useEffect)((function(){l(!0),0!==Object.entries(c).length&&Promise.all([Promise.all(c.planets.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(e){return l(!1)})),Promise.all(c.starships.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(e){return p(Object(P.a)(e))}))]).then((function(){return l(!1)}))}),[c]),Object(k.jsxs)("div",{className:C()(M.a.modal,t?M.a.active:null),onClick:function(){return n(!1)},children:[i?Object(k.jsx)(u.a,{className:M.a.loader,type:"Puff",color:"yellow",height:100,width:100}):Object(k.jsx)("div",{className:C()(M.a["modal-content"],t?M.a.active:null),onClick:function(e){return e.stopPropagation()},children:Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:c.title}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"\u2116:"})," ",c.episode_id]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Opening:"})," ",c.opening_crawl]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Director:"})," ",c.director]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Producer:"})," ",c.producer]}),Object(k.jsxs)("p",{children:[Object(k.jsx)("b",{children:"Release:"})," ",c.release_date]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Planets:"}),Object(k.jsx)("ul",{children:b.map((function(e,t){return Object(k.jsx)("li",{children:e.name},t)}))})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Starships:"}),Object(k.jsx)("ul",{children:O.map((function(e,t){return Object(k.jsx)("li",{children:e.name},t)}))})]})]})}),Object(k.jsx)("button",{className:M.a["close-btn"],type:"button",onClick:function(){return n(!1)},children:Object(k.jsx)(L.a,{})})]})},A=n(8),I=n.n(A),J=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e})),n=t.films,c=t.loading,s=t.error,a=Object(r.useState)(""),l=Object(o.a)(a,2),j=l[0],h=l[1],f=Object(r.useState)(!1),O=Object(o.a)(f,2),x=O[0],m=O[1],g=Object(r.useState)(!1),S=Object(o.a)(g,2),C=S[0],y=S[1],N=Object(r.useState)({}),P=Object(o.a)(N,2),L=P[0],E=P[1];Object(r.useEffect)((function(){e(function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_()),e.next=4,p();case 4:n=e.sent,t(v(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(w(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:I.a.container,children:[Object(k.jsx)(F,{search:j,setSearch:h,isSorted:x,setIsSorted:m}),Object(k.jsx)("div",{className:I.a.list,children:s?Object(k.jsx)("p",{className:I.a.error,children:"Fetching data failed with error: "+s}):Object(k.jsx)(k.Fragment,{children:c?Object(k.jsx)(u.a,{className:I.a.loader,type:"Puff",color:"yellow",height:100,width:100}):n.filter((function(e){return""===j||e.title.toLowerCase().includes(j.toLowerCase())?e:null})).sort((function(e,t){var n=e.title.toLowerCase(),r=t.title.toLowerCase();if(x){if(n>r)return 1;if(n<r)return-1;if(n===r)return 0}})).map((function(e){return Object(k.jsx)("div",{className:I.a.film,onClick:function(){return function(e){E(e),y(!0)}(e)},children:e.title},e.episode_id)}))})})]}),Object(k.jsx)(D,{active:C,setActive:y,film:L})]})},K=n(22),z=n.n(K),H=function(){var e=Object(k.jsx)("h1",{children:"Star Wars Films"});return Object(k.jsx)("div",{className:z.a.container,children:e})},W=(n(57),function(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(H,{}),Object(k.jsx)(J,{})]})});a.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(i.a,{store:g,children:Object(k.jsx)(W,{})})}),document.getElementById("root"))},6:function(e,t,n){e.exports={container:"Controls_container__3WHEO",controls:"Controls_controls__1ZNep",search:"Controls_search__2lznP",sort:"Controls_sort__19DBW",switch:"Controls_switch__3UgEF",slider:"Controls_slider__jDKkx",round:"Controls_round__3IKSF"}},7:function(e,t,n){e.exports={modal:"Modal_modal__3CGqc",active:"Modal_active__1ryt6","modal-content":"Modal_modal-content__3xTOz","close-btn":"Modal_close-btn__36Px8"}},8:function(e,t,n){e.exports={container:"List_container__1n0Z3",list:"List_list__2ZufS",film:"List_film__3slQv",error:"List_error__AJKMj",loader:"List_loader__2m3Fe"}}},[[58,1,2]]]);
//# sourceMappingURL=main.7dd7d96d.chunk.js.map