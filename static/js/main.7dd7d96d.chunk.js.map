{"version":3,"sources":["components/Header.module.css","api/swAPI.js","app/store.js","components/Controls.jsx","components/Modal.jsx","components/List.jsx","components/Header.jsx","app/App.jsx","index.js","components/Controls.module.css","components/Modal.module.css","components/List.module.css"],"names":["module","exports","baseUrl","fetchData","a","path","fetch","mode","method","headers","Headers","response","json","data","fetchFilms","results","filmsSlice","createSlice","name","initialState","films","loading","error","reducers","getFilmsStart","state","getFilmsSuccess","action","payload","getFilmsFailure","stack","actions","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","Controls","search","setSearch","isSorted","setIsSorted","content","className","styles","type","value","onChange","e","target","onKeyDown","key","preventDefault","placeholder","checked","cn","Modal","active","setActive","film","useState","setLoading","planets","starships","setStarships","useEffect","Object","entries","length","Promise","all","map","url","then","res","onClick","color","height","width","stopPropagation","title","episode_id","opening_crawl","director","producer","release_date","planet","index","starship","List","dispatch","useDispatch","useSelector","modalActive","setModalActive","currentFilm","setCurrentFilm","filter","toLowerCase","includes","sort","b","titleA","titleB","handleClick","Header","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7dd7d96d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__17JOw\"};","const baseUrl = 'https://swapi.dev/api/';\r\n\r\nconst fetchData = async (path = '') => {\r\n  const response = await fetch(baseUrl + path, {\r\n    mode: {\r\n      method: 'GET',\r\n      headers: new Headers({ 'content-type': 'application/json' }),\r\n      mode: 'no-cors',\r\n    },\r\n  });\r\n  const data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const fetchFilms = async () => {\r\n  const data = await fetchData('films');\r\n  return data.results;\r\n};\r\n","import {\r\n  createSlice,\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n} from '@reduxjs/toolkit';\r\nimport { fetchFilms } from '../api/swAPI';\r\n\r\nconst filmsSlice = createSlice({\r\n  name: 'films',\r\n  initialState: {\r\n    films: [],\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  reducers: {\r\n    getFilmsStart: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    getFilmsSuccess: (state, action) => {\r\n      state.films = action.payload;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    getFilmsFailure: (state, action) => {\r\n      state.loading = true;\r\n      state.error = action.payload.stack;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  getFilmsStart,\r\n  getFilmsSuccess,\r\n  getFilmsFailure,\r\n} = filmsSlice.actions;\r\n\r\nconst store = configureStore({\r\n  reducer: filmsSlice.reducer,\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: false,\r\n  }),\r\n});\r\n\r\nexport default store;\r\n\r\nexport const getFilms = () => async (dispatch) => {\r\n  try {\r\n    dispatch(getFilmsStart());\r\n    const films = await fetchFilms();\r\n    dispatch(getFilmsSuccess(films));\r\n  } catch (err) {\r\n    dispatch(getFilmsFailure(err));\r\n  }\r\n};\r\n","import cn from 'classnames';\r\n\r\nimport styles from './Controls.module.css';\r\n\r\nconst Controls = ({ search, setSearch, isSorted, setIsSorted }) => {\r\n  let content = (\r\n    <form className={styles['controls']}>\r\n      <input\r\n        className={styles['search']}\r\n        type=\"search\"\r\n        value={search}\r\n        onChange={(e) => setSearch(e.target.value)}\r\n        onKeyDown={e => { if (e.key === 'Enter') e.preventDefault() }}\r\n        placeholder='Search...'\r\n      />\r\n\r\n      <div className={styles['sort']}>\r\n        <span>Sort by name?</span>\r\n        <label className={styles['switch']}>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={isSorted}\r\n            onChange={(e) => setIsSorted(e.target.checked)}\r\n          />\r\n          <span className={cn(styles['slider'], styles['round'])}></span>\r\n        </label>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  return <div className={styles['container']}>{content}</div>;\r\n};\r\n\r\nexport default Controls;\r\n","import { useEffect, useState } from 'react';\r\nimport cn from 'classnames';\r\nimport { IoMdClose } from 'react-icons/io';\r\nimport styles from './Modal.module.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Modal = ({ active, setActive, film }) => {\r\n  let [loading, setLoading] = useState(true);\r\n  // let [characters, setCharacters] = useState([]);\r\n  let [planets, setPlanets] = useState([]);\r\n  let [starships, setStarships] = useState([]);\r\n  // let [vehicles, setVehicles] = useState([]);\r\n  // let [species, setSpecies] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    if (Object.entries(film).length !== 0) {\r\n      Promise.all(\r\n        [\r\n          Promise.all(film.planets.map(url => fetch(url).then(res => res.json())))\r\n            .then(res => setLoading(false)),\r\n\r\n          Promise.all(film.starships.map(url => fetch(url).then(res => res.json())))\r\n            .then(res => setStarships([...res]))\r\n        ]\r\n      ).then(() => setLoading(false));\r\n    }\r\n  }, [film]);\r\n\r\n  return (\r\n    <div\r\n      className={cn(styles['modal'], active ? styles['active'] : null)}\r\n      onClick={() => setActive(false)}\r\n    >\r\n      {loading\r\n        ? <Loader\r\n          className={styles['loader']}\r\n          type=\"Puff\"\r\n          color=\"yellow\"\r\n          height={100}\r\n          width={100}\r\n        />\r\n        : <div\r\n          className={cn(styles['modal-content'], active ? styles['active'] : null)}\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          <div>\r\n            <h2>{film.title}</h2>\r\n            <p><b>№:</b> {film.episode_id}</p>\r\n            <p><b>Opening:</b> {film.opening_crawl}</p>\r\n            <p><b>Director:</b> {film.director}</p>\r\n            <p><b>Producer:</b> {film.producer}</p>\r\n            <p><b>Release:</b> {film.release_date}</p>\r\n            <div>\r\n              <b>Planets:</b>\r\n              <ul>\r\n                {planets.map((planet, index) => <li key={index}>{planet.name}</li>)}\r\n              </ul>\r\n            </div>\r\n            <div>\r\n              <b>Starships:</b>\r\n              <ul>\r\n                {starships.map((starship, index) => <li key={index}>{starship.name}</li>)}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>}\r\n\r\n      <button className={styles['close-btn']} type=\"button\" onClick={() => setActive(false)}>\r\n        <IoMdClose />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useEffect, useState } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getFilms } from '../app/store';\r\nimport Controls from './Controls';\r\nimport Modal from './Modal';\r\nimport styles from './List.module.css';\r\n\r\nconst List = () => {\r\n  const dispatch = useDispatch();\r\n  const { films, loading, error } = useSelector((state) => state);\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [isSorted, setIsSorted] = useState(false);\r\n  const [modalActive, setModalActive] = useState(false);\r\n  const [currentFilm, setCurrentFilm] = useState({});\r\n\r\n  useEffect(() => {\r\n    dispatch(getFilms());\r\n  }, [dispatch]);\r\n\r\n  const handleClick = (film) => {\r\n    setCurrentFilm(film)\r\n    setModalActive(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles['container']}>\r\n        <Controls\r\n          search={search}\r\n          setSearch={setSearch}\r\n          isSorted={isSorted}\r\n          setIsSorted={setIsSorted}\r\n        />\r\n        <div className={styles['list']}>\r\n          {error ? (\r\n            <p className={styles['error']}>\r\n              {'Fetching data failed with error: ' + error}\r\n            </p>\r\n          ) : (\r\n            <>\r\n              {loading ? (\r\n                <Loader\r\n                  className={styles['loader']}\r\n                  type=\"Puff\"\r\n                  color=\"yellow\"\r\n                  height={100}\r\n                  width={100}\r\n                />\r\n              ) : (\r\n                films\r\n                  .filter((value) => {\r\n                    if (search === '') {\r\n                      return value\r\n                    } else if (value.title.toLowerCase().includes(search.toLowerCase())) {\r\n                      return value\r\n                    } else {\r\n                      return null\r\n                    }\r\n                  })\r\n                  .sort((a, b) => {\r\n                    const titleA = a.title.toLowerCase()\r\n                    const titleB = b.title.toLowerCase()\r\n\r\n                    if (isSorted) {\r\n                      if (titleA > titleB) return 1;\r\n                      if (titleA < titleB) return -1;\r\n                      if (titleA === titleB) return 0;\r\n                    }\r\n                  })\r\n                  .map((film) => (\r\n                    <div\r\n                      key={film.episode_id}\r\n                      className={styles['film']}\r\n                      onClick={() => handleClick(film)}\r\n                    >\r\n                      {film.title}\r\n                    </div>\r\n                  )\r\n                  )\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <Modal active={modalActive} setActive={setModalActive} film={currentFilm} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import styles from './Header.module.css';\r\n\r\nconst Header = () => {\r\n  let content = <h1>Star Wars Films</h1>;\r\n\r\n  return <div className={styles['container']}>{content}</div>;\r\n};\r\n\r\nexport default Header;\r\n","import List from '../components/List';\nimport Header from '../components/Header';\nimport './App.css';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <Header />\n      <List />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './app/App';\nimport store from './app/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Controls_container__3WHEO\",\"controls\":\"Controls_controls__1ZNep\",\"search\":\"Controls_search__2lznP\",\"sort\":\"Controls_sort__19DBW\",\"switch\":\"Controls_switch__3UgEF\",\"slider\":\"Controls_slider__jDKkx\",\"round\":\"Controls_round__3IKSF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3CGqc\",\"active\":\"Modal_active__1ryt6\",\"modal-content\":\"Modal_modal-content__3xTOz\",\"close-btn\":\"Modal_close-btn__36Px8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"List_container__1n0Z3\",\"list\":\"List_list__2ZufS\",\"film\":\"List_film__3slQv\",\"error\":\"List_error__AJKMj\",\"loader\":\"List_loader__2m3Fe\"};"],"sourceRoot":""}